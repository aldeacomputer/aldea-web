import { computed, ref } from 'vue'
import { defineStore } from 'pinia'
//import { useRoute } from 'vue-router'
import { Tx } from '@aldea/sdk'

const rawTx = '01000ea120a0b07c4143ae6f105ea79cff5d21d2d1cd09351cf66e41c3e43bfb3bddb1a701a220df4cf424923ad248766251066fa4a408930faf94fff66c77657e79f604d3120da322675d72e2d567cbe2cb9ef3230cbc4c85e42bcd56ba537f6b65a51b9c6c8552810100b109000000000003666f6fb2220100010000bc0200000000000014f8be00b23c9c1c30720e862d00082121d83c4ff3b209020001000003626172b30b00000000020000036d756db409000001000003646164c1020100c2160200f8be00b23c9c1c30720e862d00082121d83c4ff3c2160300f8be00b23c9c1c30720e862d00082121d83c4ff3d15f0108696e6465782e74730108696e6465782e74734a6578706f72742066756e6374696f6e2068656c6c6f576f726c64286d73673a20737472696e67293a20737472696e67207b2072657475726e206048656c6c6f20247b6d73677d2160207de1607d16262204d80dc33c773a7e246e53ce0abcdedfd1bf5a036244b6c413286decad879720d96847cad5c9e9df54ab786d45cdeac274a011c09e9f28a3a6cba401a19bb50358e253e3ded9910ce69088a327f701a4c85b7f444b6f4f6e63bbb961e2607d16262204d80dc33c773a7e246e53ce0abcdedfd1bf5a036244b6c413286decad879720d96847cad5c9e9df54ab786d45cdeac274a011c09e9f28a3a6cba401a19bb50358e253e3ded9910ce69088a327f701a4c85b7f444b6f4f6e63bbb961'

export const useTxStore = defineStore('txns', () => {
  
  const _tx = ref<Tx>()

  const currentTx = computed(() => {
    //const route = useRoute()
    return _tx.value
  })

  async function fetchTx() {
    _tx.value = Tx.fromHex(rawTx)
  }

  return { currentTx, fetchTx }
})